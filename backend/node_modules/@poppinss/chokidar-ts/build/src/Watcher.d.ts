import chokidar from 'chokidar';
import Emittery from 'emittery';
import tsStatic from 'typescript';
import { WatcherEvents } from './Contracts';
import { PluginManager } from './PluginManager';
/**
 * Exposes the API to build the typescript project and then watch it
 * for changes.
 */
export declare class Watcher extends Emittery<WatcherEvents & {
    'watcher:ready': undefined;
}> {
    private cwd;
    private ts;
    private config;
    private pluginManager;
    /**
     * Available only in both modes
     */
    private sourceFilesManager;
    chokidar: chokidar.FSWatcher;
    program: tsStatic.Program;
    host: tsStatic.CompilerHost;
    compilerOptions?: tsStatic.CompilerOptions;
    constructor(cwd: string, ts: typeof tsStatic, config: tsStatic.ParsedCommandLine, pluginManager: PluginManager);
    /**
     * Returns a boolean telling if it is a script file or not.
     *
     * We check for the `compilerOptions.allowJs` before marking
     * `.js` files as a script files.
     */
    private isScriptFile;
    /**
     * Initiates the source file manager to track the source files as they
     * are added, changed and removed
     */
    private initiateSourceFileManager;
    /**
     * Initiates chokidar watcher
     */
    private initiateWatcher;
    /**
     * Process the source file
     */
    private processSourceFile;
    /**
     * Invoked when chokidar notifies for a new file addtion
     */
    private onNewFile;
    /**
     * Invoked when chokidar notifies for changes the existing
     * source file
     */
    private onChange;
    /**
     * Invoked when chokidar notifies for file deletion
     */
    private onRemove;
    /**
     * Build and watch project for changes
     */
    watch(watchPattern?: string | string[], watcherOptions?: chokidar.WatchOptions): void;
}
